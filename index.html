<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>怡千金的微信</title>
    <meta name="theme-color" content="#07c160">
    <!-- PWA 支持 -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- 图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif; }
        html, body { height: 100%; overflow: hidden; background: #ededed; }

        /* 全屏容器 */
        #app { height: 100vh; display: flex; flex-direction: column; background: #f8f8f8; }

        /* 1. 顶部状态栏 (模仿手机) */
        .status-bar { height: 44px; background: #000; color: white; padding: 0 15px; display: flex; justify-content: space-between; align-items: center; font-size: 14px; }
        .status-left { display: flex; align-items: center; }
        .time { font-weight: 600; margin-right: 5px; }
        .status-right i { margin-left: 8px; font-size: 13px; }

        /* 2. 微信标题栏 */
        .navbar { height: 44px; background: #ededed; display: flex; justify-content: space-between; align-items: center; padding: 0 12px; border-bottom: 1px solid #dcdcdc; }
        .navbar-title { font-size: 17px; font-weight: 500; color: #000; }
        .navbar-icons i { font-size: 22px; color: #000; margin-left: 20px; }

        /* 3. 微信搜索框 */
        .search-bar { padding: 8px 12px; background: #ededed; border-bottom: 1px solid #dcdcdc; }
        .search-box { display: flex; align-items: center; background: white; border-radius: 6px; padding: 8px 12px; }
        .search-box i { color: #b2b2b2; margin-right: 8px; font-size: 14px; }
        .search-input { border: none; outline: none; font-size: 16px; width: 100%; background: transparent; }
        .search-input::placeholder { color: #b2b2b2; }

        /* 4. 主内容区 */
        .main-content { flex: 1; overflow-y: auto; display: block; }

        /* 聊天会话列表样式 */
        .sessions-list .session-item { display: flex; align-items: center; padding: 12px; background: white; border-bottom: 1px solid #f0f0f0; }
        .session-avatar { width: 48px; height: 48px; border-radius: 8px; background: #07c160; color: white; display: flex; align-items: center; justify-content: center; font-size: 20px; margin-right: 12px; flex-shrink: 0; }
        .session-info { flex: 1; min-width: 0; }
        .session-row1 { display: flex; justify-content: space-between; margin-bottom: 4px; }
        .session-name { font-size: 17px; color: #000; font-weight: 500; }
        .session-time { font-size: 13px; color: #8a8a8a; }
        .session-row2 { display: flex; justify-content: space-between; }
        .session-preview { font-size: 14px; color: #8a8a8a; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 80%; }
        .unread-badge { background: #fa5151; color: white; font-size: 12px; min-width: 18px; height: 18px; border-radius: 9px; display: flex; align-items: center; justify-content: center; padding: 0 5px; }

        /* 5. 底部微信导航栏 */
        .tab-bar { height: 56px; background: #f8f8f8; display: flex; border-top: 1px solid #e0e0e0; padding-top: 6px; }
        .tab-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #999; font-size: 12px; }
        .tab-item.active { color: #07c160; }
        .tab-icon { font-size: 22px; margin-bottom: 3px; position: relative; }
        .tab-badge { position: absolute; top: -4px; right: -8px; background: #fa5151; color: white; font-size: 10px; min-width: 14px; height: 14px; border-radius: 7px; display: flex; align-items: center; justify-content: center; }

        /* 6. 聊天窗口 */
        .chat-view { height: 100%; display: none; flex-direction: column; }
        .chat-header { height: 44px; background: #ededed; display: flex; align-items: center; padding: 0 12px; border-bottom: 1px solid #dcdcdc; }
        .chat-back-btn { background: none; border: none; color: #07c160; font-size: 18px; margin-right: 12px; cursor: pointer; }
        .chat-contact { display: flex; align-items: center; flex: 1; }
        .chat-contact-avatar { width: 36px; height: 36px; border-radius: 6px; background: #07c160; color: white; display: flex; align-items: center; justify-content: center; font-size: 16px; margin-right: 10px; }
        .chat-contact-info h4 { font-size: 17px; font-weight: 500; color: #000; margin-bottom: 2px; }
        .chat-contact-info p { font-size: 12px; color: #8a8a8a; }
        .chat-actions i { font-size: 20px; color: #000; margin-left: 20px; }
        .chat-messages { flex: 1; overflow-y: auto; padding: 15px; background: #f0f0f0; }
        .message { display: flex; margin-bottom: 20px; }
        .message.received { justify-content: flex-start; }
        .message.sent { justify-content: flex-end; }
        .message-content { max-width: 70%; padding: 10px 14px; border-radius: 18px; position: relative; word-wrap: break-word; font-size: 16px; line-height: 1.4; }
        .message.received .message-content { background: white; border-top-left-radius: 4px; }
        .message.sent .message-content { background: #95ec69; border-top-right-radius: 4px; }
        .message-time { font-size: 11px; color: #8a8a8a; margin-top: 5px; text-align: center; }
        .message-date { text-align: center; margin: 20px 0; }
        .date-label { display: inline-block; background: #d8d8d8; color: #666; font-size: 12px; padding: 4px 12px; border-radius: 12px; }

        /* 7. 聊天输入工具栏 */
        .chat-toolbar {
            height: 56px;
            background: #f8f8f8;
            border-top: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 12px;
        }
        .toolbar-left, .toolbar-right {
            display: flex;
            align-items: center;
        }
        .tool-btn {
            background: none;
            border: none;
            color: #7d7d7d;
            font-size: 22px;
            padding: 8px;
            margin: 0 2px;
            cursor: pointer;
        }
        .input-box {
            flex: 1;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 18px;
            padding: 8px 15px;
            margin: 0 8px;
            max-height: 80px;
            overflow-y: auto;
            font-size: 16px;
            line-height: 1.4;
            outline: none;
            min-height: 36px;
            box-sizing: border-box;
            cursor: text;
        }
        /* 为可编辑的div添加placeholder效果 */
        .input-box:empty:before {
            content: attr(placeholder);
            color: #b2b2b2;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- 顶部状态栏 -->
        <div class="status-bar">
            <div class="status-left">
                <span class="time" id="currentTime">14:30</span>
            </div>
            <div class="status-right">
                <i class="fas fa-signal"></i>
                <i class="fas fa-wifi"></i>
                <i class="fas fa-battery-three-quarters"></i>
            </div>
        </div>

        <!-- 微信标题栏 -->
        <div class="navbar">
            <div class="navbar-title">微信</div>
            <div class="navbar-icons">
                <i class="fas fa-search"></i>
                <i class="fas fa-plus-circle"></i>
            </div>
        </div>

        <!-- 微信搜索框 -->
        <div class="search-bar">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="搜索" class="search-input" readonly>
            </div>
        </div>

        <!-- 主内容区：默认显示聊天会话列表 -->
        <div class="main-content" id="mainContent">
            <!-- 聊天会话列表 -->
            <div class="sessions-list" id="sessionsList">
                 <!-- 会话 4: 文件传输助手 -->
                <div class="session-item" data-chat="helper">
                    <div class="session-avatar">文</div>
                    <div class="session-info">
                        <div class="session-row1">
                            <div class="session-name">文件传输助手</div>
                            <div class="session-time">MG20-03-18</div>
                        </div>
                        <div class="session-row2">
                            <div class="session-preview">计划已定。让怼怼扮成我，我去扮成她...</div>
                        </div>
                    </div>
                </div>
               
                <!-- 会话 3: 侦探社 -->
                <div class="session-item" data-chat="detective">
                    <div class="session-avatar">侦</div>
                    <div class="session-info">
                        <div class="session-row1">
                            <div class="session-name">嘿嘿嘿侦探社</div>
                            <div class="session-time">MG20-03-05</div>
                        </div>
                        <div class="session-row2">
                            <div class="session-preview">数据显示，更换仿生器官的富豪死亡率比贫民高出300%...</div>
                        </div>
                    </div>
                </div>
               <!-- 会话 2: 主治医生 -->
                <div class="session-item" data-chat="doctor">
                    <div class="session-avatar">医</div>
                    <div class="session-info">
                        <div class="session-row1">
                            <div class="session-name">不重要的主治医生</div>
                            <div class="session-time">MG20-02-01</div>
                        </div>
                        <div class="session-row2">
                            <div class="session-preview">我马上到。</div>
                        </div>
                    </div>
                </div>
                 <!-- 会话 1: 老爷子 -->
                <div class="session-item" data-chat="oldman">
                    <div class="session-avatar">老</div>
                    <div class="session-info">
                        <div class="session-row1">
                            <div class="session-name">老爷子</div>
                            <div class="session-time">MG13-05-12</div>
                        </div>
                        <div class="session-row2">
                            <div class="session-preview">不用去了，有方法解决X病毒了。</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 聊天窗口 1: 老爷子 -->
            <div class="chat-view" id="chatOldman">
                <div class="chat-header">
                    <button class="chat-back-btn" onclick="backToSessions()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="chat-contact">
                        <div class="chat-contact-avatar">老</div>
                        <div class="chat-contact-info">
                            <h4>老爷子</h4>
                            <p>最后通信：MG13年5月12日</p>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>
                <div class="chat-messages">
                    <div class="message-date">
                        <span class="date-label">MG13年1月22日</span>
                    </div>
                    <div class="message received">
                        <div class="message-content">我重金购买了火种计划的门票，你收好。</div>
                    </div>
                    <div class="message sent">
                        <div class="message-content">那些留下的人怎么办？</div>
                    </div>
                    <div class="message-date">
                        <span class="date-label">MG13年5月12日</span>
                    </div>
                    <div class="message received">
                        <div class="message-content">不用去了，有方法解决X病毒了。</div>
                    </div>
                    <div class="message-date">
                        <span class="date-label">上午 08:45</span>
                    </div>
                </div>
                <!-- 聊天输入工具栏 -->
                <div class="chat-toolbar">
                    <div class="toolbar-left">
                        <button class="tool-btn"><i class="fas fa-microphone"></i></button>
                        <button class="tool-btn"><i class="far fa-smile"></i></button>
                        <div class="input-box" contenteditable="true" placeholder="输入消息..."></div>
                        <button class="tool-btn"><i class="fas fa-plus-circle"></i></button>
                    </div>
                    <div class="toolbar-right">
                        <button class="tool-btn"><i class="fas fa-phone-alt"></i></button>
                        <button class="tool-btn"><i class="fas fa-video"></i></button>
                    </div>
                </div>
            </div>

            <!-- 聊天窗口 2: 主治医生 -->
            <div class="chat-view" id="chatDoctor">
                <div class="chat-header">
                    <button class="chat-back-btn" onclick="backToSessions()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="chat-contact">
                        <div class="chat-contact-avatar">医</div>
                        <div class="chat-contact-info">
                            <h4>不重要的主治医生</h4>
                            <p>MG20年2月1日</p>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>
                <div class="chat-messages">
                    <div class="message-date">
                        <span class="date-label">MG20年2月1日</span>
                    </div>
                    <div class="message received">
                        <div class="message-content">怡老董事长于MG20年2月1日突然离世。</div>
                    </div>
                    <div class="message sent">
                        <div class="message-content">我马上到。</div>
                    </div>
                    <div class="message-date">
                        <span class="date-label">上午 05:22</span>
                    </div>
                </div>
                <!-- 聊天输入工具栏 -->
                <div class="chat-toolbar">
                    <div class="toolbar-left">
                        <button class="tool-btn"><i class="fas fa-microphone"></i></button>
                        <button class="tool-btn"><i class="far fa-smile"></i></button>
                        <div class="input-box" contenteditable="true" placeholder="输入消息..."></div>
                        <button class="tool-btn"><i class="fas fa-plus-circle"></i></button>
                    </div>
                    <div class="toolbar-right">
                        <button class="tool-btn"><i class="fas fa-phone-alt"></i></button>
                        <button class="tool-btn"><i class="fas fa-video"></i></button>
                    </div>
                </div>
            </div>

            <!-- 聊天窗口 3: 侦探社 -->
            <div class="chat-view" id="chatDetective">
                <div class="chat-header">
                    <button class="chat-back-btn" onclick="backToSessions()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="chat-contact">
                        <div class="chat-contact-avatar">侦</div>
                        <div class="chat-contact-info">
                            <h4>嘿嘿嘿侦探社</h4>
                            <p>MG20年3月5日</p>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>
                <div class="chat-messages">
                    <div class="message-date">
                        <span class="date-label">MG20年3月5日</span>
                    </div>
                    <div class="message received">
                        <div class="message-content">鸥，数据显示，更换仿生器官的富豪死亡率比贫民高出300%。这绝不是巧合。甄漂亮医院一定藏着秘密。</div>
                    </div>
                    <div class="message-date">
                        <span class="date-label">下午 06:00</span>
                    </div>
                </div>
                <!-- 聊天输入工具栏 -->
                <div class="chat-toolbar">
                    <div class="toolbar-left">
                        <button class="tool-btn"><i class="fas fa-microphone"></i></button>
                        <button class="tool-btn"><i class="far fa-smile"></i></button>
                        <div class="input-box" contenteditable="true" placeholder="输入消息..."></div>
                        <button class="tool-btn"><i class="fas fa-plus-circle"></i></button>
                    </div>
                    <div class="toolbar-right">
                        <button class="tool-btn"><i class="fas fa-phone-alt"></i></button>
                        <button class="tool-btn"><i class="fas fa-video"></i></button>
                    </div>
                </div>
            </div>

            <!-- 聊天窗口 4: 文件传输助手 -->
            <div class="chat-view" id="chatHelper">
                <div class="chat-header">
                    <button class="chat-back-btn" onclick="backToSessions()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="chat-contact">
                        <div class="chat-contact-avatar">文</div>
                        <div class="chat-contact-info">
                            <h4>文件传输助手</h4>
                            <p>MG20年3月18日</p>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>
                <div class="chat-messages">
                    <div class="message-date">
                        <span class="date-label">MG20年3月18日</span>
                    </div>
                    <div class="message sent">
                        <div class="message-content">计划已定。让怼怼扮成我，我去扮成她。甄初升，就让我们看看，谁才是最后的赢家。</div>
                    </div>
                    <div class="message-date">
                        <span class="date-label">下午 11:33</span>
                    </div>
                </div>
                <!-- 聊天输入工具栏 -->
                <div class="chat-toolbar">
                    <div class="toolbar-left">
                        <button class="tool-btn"><i class="fas fa-microphone"></i></button>
                        <button class="tool-btn"><i class="far fa-smile"></i></button>
                        <div class="input-box" contenteditable="true" placeholder="输入消息..."></div>
                        <button class="tool-btn"><i class="fas fa-plus-circle"></i></button>
                    </div>
                    <div class="toolbar-right">
                        <button class="tool-btn"><i class="fas fa-phone-alt"></i></button>
                        <button class="tool-btn"><i class="fas fa-video"></i></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 底部微信导航栏 -->
        <div class="tab-bar">
            <div class="tab-item active" data-tab="wechat">
                <div class="tab-icon"><i class="fas fa-comment-alt"></i></div>
                <div>微信</div>
            </div>
            <div class="tab-item" data-tab="contact">
                <div class="tab-icon"><i class="fas fa-address-book"></i></div>
                <div>通讯录</div>
            </div>
            <div class="tab-item" data-tab="discover">
                <div class="tab-icon"><i class="fas fa-compass"></i></div>
                <div>发现</div>
            </div>
            <div class="tab-item" data-tab="me">
                <div class="tab-icon"><i class="fas fa-user"></i></div>
                <div>我</div>
            </div>
        </div>
    </div>

    <script>
        // 1. 实时更新时间
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('currentTime').textContent = `${hours}:${minutes}`;
        }
        setInterval(updateTime, 60000);
        updateTime();

        // 2. 点击会话进入聊天窗口
        document.querySelectorAll('.session-item').forEach(item => {
            item.addEventListener('click', function() {
                const chatId = 'chat' + this.dataset.chat.charAt(0).toUpperCase() + this.dataset.chat.slice(1);
                document.getElementById('sessionsList').style.display = 'none';
                document.querySelectorAll('.chat-view').forEach(view => view.style.display = 'none');
                document.getElementById(chatId).style.display = 'flex';
            });
        });

        // 3. 返回会话列表
        function backToSessions() {
            document.getElementById('sessionsList').style.display = 'block';
            document.querySelectorAll('.chat-view').forEach(view => view.style.display = 'none');
        }

        // 4. 底部导航栏点击效果（视觉反馈）
        document.querySelectorAll('.tab-item').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // 5. 阻止输入框Enter键换行，模拟微信发送（此处仅阻止，无发送功能）
        document.querySelectorAll('.input-box').forEach(box => {
            box.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault(); // 阻止换行
                    // 此处可以添加发送消息的逻辑，当前仅清空输入框作为演示
                    this.innerHTML = '';
                }
            });
        });
    </script>
</body>
</html>
